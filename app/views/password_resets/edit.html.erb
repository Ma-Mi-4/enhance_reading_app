<% content_for(:title, "パスワードリセット") %>

<div class="max-w-3xl mx-auto px-4 py-8">

  <h1 class="text-2xl font-bold text-center mb-8">
    パスワードリセット
  </h1>

  <%= form_with model: @user,
        url: password_reset_path(@token),
        method: :patch,
        local: true,
        class: "space-y-6 max-w-md mx-auto" do |f| %>

    <% if @user.errors.any? %>
      <div class="rounded bg-red-100 px-4 py-3 text-red-800 text-sm">
        入力内容に誤りがあります
      </div>
    <% end %>

    <!-- メールアドレス（表示のみ） -->
    <div>
      <p class="block text-sm font-medium text-gray-700 mb-1">
        メールアドレス
      </p>
      <p class="text-gray-800">
        <%= @user.email %>
      </p>
    </div>

    <!-- 新しいパスワード -->
    <div>
      <%= f.label :password, "新しいパスワード",
            class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.password_field :password,
            class: "block w-full rounded-md border border-gray-300
                    px-3 py-2 bg-white
                    focus:outline-none focus:ring-2 focus:ring-blue-500" %>
    </div>

    <!-- 確認用 -->
    <div>
      <%= f.label :password_confirmation, "確認用パスワード",
            class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= f.password_field :password_confirmation,
            class: "block w-full rounded-md border border-gray-300
                    px-3 py-2 bg-white
                    focus:outline-none focus:ring-2 focus:ring-blue-500" %>
    </div>

    <div class="text-center">
      <%= f.submit "更新",
            class: "inline-block w-full px-6 py-3
                    bg-blue-600 text-white rounded-md
                    hover:bg-blue-700 transition" %>
    </div>

  <% end %>

</div>
