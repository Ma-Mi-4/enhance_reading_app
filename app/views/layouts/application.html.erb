<!DOCTYPE html>
<html>
  <head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JPQRFBT89R"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JPQRFBT89R');
</script>

    <title>TOEIC長文トレーニング</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <% unless Rails.env.test? %>
    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <% end %>

    <%= javascript_importmap_tags %>

    <% if Rails.env.production? %>
      <meta property="og:title" content="TOEIC Reading Training">
      <meta property="og:description" content="Enhance your reading skills everyday.">
      <meta property="og:type" content="website">
      <meta property="og:url" content="https://enhance-reading-app-morning-sound-6129.fly.dev">
      <meta property="og:image" content="<%= image_url('ogp_default.png') %>">
      <meta property="og:image:width" content="1200">
      <meta property="og:image:height" content="630">
      <meta name="twitter:card" content="summary_large_image">
    <% end %>

    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
  </head>

  <body class="min-h-screen flex flex-col" <%= yield :body_attributes %>>
  
    <%= render 'shared/header' %>

    <!-- flash messages -->
    <% flash.each do |key, message| %>
      <% base = "mx-auto mt-4 max-w-3xl rounded px-4 py-3 text-sm text-center" %>
      <% css =
        case key.to_sym
        when :notice
          "bg-green-100 text-green-800"
        when :alert
          "bg-red-100 text-red-800"
        else
          "bg-blue-100 text-blue-800"
        end
      %>

      <div class="<%= "#{base} #{css}" %>">
        <%= message %>
      </div>
    <% end %>

    <main class="<%= request.params[:controller].in?(%w[calendars questions]) ? '' : 'flex-grow' %>">
      <%= yield %>
    </main>

    <%= render 'shared/footer' %>

  </body>
</html>
